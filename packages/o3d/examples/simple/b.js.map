{"version":3,"file":"b.js","sources":["../../src/math.js","../../src/quaternion.js","../../src/vector3.js","../../src/matrix4.js","../../src/group.js","../../src/stage.js","../../src/cube.js","../../src/camera.js","main.js"],"sourcesContent":["/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: ( function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar lut = [];\n\n\t\tfor ( var i = 0; i < 256; i ++ ) {\n\n\t\t\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n\t\t}\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\t\tvar uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\t\treturn uuid.toUpperCase();\n\n\t\t};\n\n\t} )(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n\nexport { _Math };\n","/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nimport { _Math } from './math.js';\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\treturn this.normalize();\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis.onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\tonChange: function ( callback ) {\n\n\t\tthis.onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tonChangeCallback: function () {}\n\n} );\n\n\nexport { Quaternion };\n","import { _Math } from './math.js';\nimport { Quaternion } from './quaternion.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Vector3 };\n","import { Vector3 } from './vector3.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\t// this method does not support reflection matrices\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\t\tte[ 3 ] = 0;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\t\tte[ 7 ] = 0;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\t\tte[ 11 ] = 0;\n\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function () {\n\n\t\tvar zero = new Vector3( 0, 0, 0 );\n\t\tvar one = new Vector3( 1, 1, 1 );\n\n\t\treturn function makeRotationFromQuaternion( q ) {\n\n\t\t\treturn this.compose( zero, q, one );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tvar te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n\nexport { Matrix4 };\n","class Group {\n  constructor() {\n    this.children = []\n  }\n\n  add(child){\n    this.children.push(child)\n  }\n\n  render(ctx) {\n    let list = this.children.slice()\n    for (let i = 0, l = list.length; i < l; i++) {\n      let child = list[i]\n      if (!child.isVisible()) {\n        continue\n      }\n\n      // draw the child:\n      ctx.save()\n      child.updateContext(ctx)\n      child.render(ctx)\n      ctx.restore()\n    }\n    return true\n  }\n}\n\nexport {Group}\n","import {Group} from './group'\n\nclass Stage extends Group {\n  constructor() {\n    super()\n  }\n\n\n  update(){\n    this.children.forEach(child => {\n      child.render()\n    })\n  }\n}\n\nexport {Stage}\n","class Cube {\n  constructor(position, length, width, height) {\n    this.position = position\n    this.length = length\n    this.width = width\n    this.height = height\n\n    this.rotation ={\n      x: 0,\n      y: 0,\n      z: 0\n    }\n  }\n\n  render() {\n    //\n    //face z-sort\n    //render\n  }\n}\n\nexport {Cube}\n","import { Vector3 } from './vector3'\nimport { Matrix4 } from './matrix4'\n\nclass Camera {\n  constructor(option) {\n    //http://blog.csdn.net/lyx2007825/article/details/8792475\n    //http://www.cnblogs.com/yiyezhai/archive/2012/09/12/2677902.html\n    this._createProp('x', option.x, this._update)\n    this._createProp('y', option.y, this._update)\n    this._createProp('z', option.z, this._update)\n\n    //(vertical field of view(FOV))\n    this.fov = option.fov || 75;\n    this.ratio = option.ratio || 1920 / 1080;\n    this.front = option.front || 1;\n    this.back = option.back || 10000;\n    this.target = [0, 0, 0];\n    this._update();\n  }\n\n  _update() {\n    //http://webglfactory.blogspot.com/2011/06/how-to-create-view-matrix.html\n    //http://4.bp.blogspot.com/_ltmZpULxXtI/TSn3hwEQuZI/AAAAAAAAAes/H93UF8OT1sE/s1600/gimballock_camera.png\n    this.v_matrix = Matrix4.lookAt([], [this.x, this.y, this.z], this.target, [0, 1, 0]);\n    this.p_matrix = Matrix4.getProjection(this.fov, this.ratio, this.front, this.back);\n    this.un_p_matrix = new Matrix4().getInverse(this.p_matrix);\n    this.un_v_matrix = new Matrix4().getInverse(this.v_matrix);\n\n  }\n  lookAt(target) {\n    this.target = target;\n    this._update();\n  }\n  createRay(rotioX, ratioY) {\n    var v3 = Vector3;\n\n    var pl = [this.x, this.y, this.z];\n    var m = new Matrix4().multiplyMatrices(this.un_v_matrix, this.un_p_matrix);\n\n    var p2 = v3.applyProjection([rotioX, ratioY, 0], m);\n\n    var v = v3.sub([], p2, pl);\n    return {\n      dir: v3.normalize(v, v),\n      pt: pl\n    };\n  }\n  _createProp(name, defaultValue, setterCallback) {\n    this['_' + name] = defaultValue;\n    Object.defineProperty(this, name, {\n      get: function () {\n        return this['_' + name];\n      },\n      set: function (value) {\n        this['_' + name] = value;\n        setterCallback.call(this, value);\n      }\n    })\n  }\n}\n\n\nexport { Camera }\n","import { Vector3, Stage, Cube, Camera } from '../../src/o3d'\n\nconst stage = new Stage({\n  camera: new Camera({\n    x: 0,\n    y: 0,\n    z: 600,\n    rotateX: 0,\n    rotateY: 0,\n    fov: 60,\n    ratio: 600 / 600,\n    front: 1,\n    back: 1000\n  }),\n  renderTo: '#root',\n  width: 600,\n  height: 400,\n  renderer: 'canvas'\n});\n\nconst cube = new Cube({\n  x: 0,\n  y: 0,\n  z: 0\n},100, 100, 100)\n\nstage.add(cube)\n\nanimate();\n\n\n\nfunction animate() {\n  requestAnimationFrame(animate);\n  cube.rotation.x += 0.01;\n  cube.rotation.y += 0.02;\n  stage.update()\n}\n"],"names":["_Math","DEG2RAD","Math","PI","RAD2DEG","generateUUID","lut","i","toString","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","value","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","lerp","y","t","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","Quaternion","z","w","_x","_y","_z","_w","undefined","Object","assign","slerp","qa","qb","qm","copy","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","s","cos","dir","sqrSin","Number","EPSILON","sin","sqrt","len","atan2","tDir","f","defineProperties","prototype","get","set","onChangeCallback","isQuaternion","clone","constructor","quaternion","setFromEuler","euler","update","isEuler","Error","order","c1","c2","c3","s1","s2","s3","setFromAxisAngle","axis","angle","halfAngle","setFromRotationMatrix","te","elements","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","vFrom","vTo","EPS","r","dot","abs","normalize","angleTo","q","acos","rotateTowards","step","inverse","conjugate","v","lengthSq","length","l","multiply","p","console","warn","multiplyQuaternions","premultiply","a","b","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","equals","fromArray","array","offset","toArray","onChange","callback","Vector3","isVector3","setScalar","scalar","setX","setY","setZ","setComponent","index","getComponent","add","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiplyVectors","multiplyScalar","applyEuler","error","applyQuaternion","applyAxisAngle","applyMatrix3","e","applyMatrix4","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","manhattanLength","setLength","alpha","lerpVectors","v1","v2","cross","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","vector","projectOnPlane","planeNormal","reflect","normal","theta","distanceTo","distanceToSquared","dx","dy","dz","manhattanDistanceTo","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","c","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","sx","setFromMatrixColumn","sy","sz","fromBufferAttribute","attribute","getX","getY","getZ","Matrix4","arguments","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","identity","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","d","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","zero","one","compose","lookAt","eye","target","up","multiplyMatrices","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","applyToBufferAttribute","count","setXYZ","determinant","transpose","tmp","setPosition","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","msg","detInv","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeScale","makeShear","position","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","decompose","matrix","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","h","Group","children","child","push","render","ctx","list","slice","isVisible","save","updateContext","restore","Stage","forEach","Cube","width","height","rotation","Camera","option","_createProp","_update","fov","ratio","front","back","v_matrix","p_matrix","getProjection","un_p_matrix","un_v_matrix","createRay","rotioX","ratioY","v3","pl","p2","applyProjection","pt","name","defaultValue","setterCallback","defineProperty","call","stage","rotateX","rotateY","renderTo","renderer","cube","animate","requestAnimationFrame"],"mappings":"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"}