/* Nuclear  v0.3.1
 * By AlloyTeam http://www.alloyteam.com/
 * Github: https://github.com/AlloyTeam/Nuclear
 * MIT Licensed.
 */
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("Nuclear requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n={},r=e.document;return function(){"use strict";function e(e,n){c(e&&e.nodeType,"You must provide a valid node to update."),e.nodeType===h&&(e=e.documentElement),"string"==typeof n&&(e===r.documentElement?(p.innerHTML=n,n=p):(d.innerHTML=n,n=d.firstChild)),t(e,n)}function t(e,t){if(e.nodeType===u)if(i(e,e.childNodes,t.childNodes),e.nodeName===t.nodeName)o(e,e.attributes,t.attributes);else{for(var n=t.cloneNode();e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e)}else e.nodeType===t.nodeType?e.nodeValue=t.nodeValue:e.parentNode.replaceChild(t,e)}function o(e,t,n){var r,o,i,s;for(r=t.length;r--;)o=t[r],s=o.namespaceURI,i=n.getNamedItemNS(s,o.name),i||t.removeNamedItemNS(s,o.name);for(r=n.length;r--;)o=n[r],s=o.namespaceURI,i=t.getNamedItemNS(s,o.name),i?i.value!==o.value&&(i.value=o.value):(n.removeNamedItemNS(s,o.name),t.setNamedItemNS(o))}function i(e,n,r){var o,i,a,c,u,h=s(n),p=s(r);for(o in h)p[o]||e.removeChild(h[o]);for(o in p)if(i=h[o],a=p[o],i){if(t(i,a),c=i[l],u=a[l],c===u)continue;if(n[u]===i)continue;e.insertBefore(i,n[u])}else e.appendChild(a)}function s(e){for(var t,n={},r=e.length;r--;)t=e[r],t[l]=r,n[a(t)||r]=t;return n}function a(e){if(e.nodeType===u)return e.getAttribute("data-key")||e.id}function c(e,t){if(!e)throw new Error("set-dom: "+t)}var l="__set-dom-index__",u=1,h=9,p=r.createElement("html"),d=r.createElement("body");n.setDOM=e}(),n.create=function(e,t){e._nuclearSetting=t||{},n._mixObj(e);var r=this===n?n.Class:this,o=r.extend(e);return o.create=n.create,o},n._mixObj=function(t){t.ctor=function(t,o){this._nuclearTwoWay=!0,this._nuclearDiffDom=!0,this._nuclearServerRender=this._nuclearSetting.server,(this._nuclearSetting.twoWay===!1||this._nuclearServerRender)&&(this._nuclearTwoWay=!1),this._nuclearSetting.diff===!1&&(this._nuclearDiffDom=!1),this._nuclearReRender="string"==typeof t,this._nuclearReRender?(this.parentNode=r.querySelector(t),this._ncInstanceId=this.parentNode.firstChild.getAttribute("data-nuclearId"),this._nuclearOption=JSON.parse(this.parentNode.querySelector("input[name=__nuclear_option_"+this._ncInstanceId+"]").value)):this._nuclearServerRender?(this._ncInstanceId=n.getServerInstanceId(),this._nuclearOption=t):(this._ncInstanceId=n.getInstanceId(),this._nuclearOption=t),e.Nuclear.instances[this._ncInstanceId]=this,this._nuclearParentEmpty=!o,this.HTML="",Object.defineProperty(this,"option",{get:function(){return this._nuclearOption},set:function(e){var t=this._nuclearOption;t!==e&&(this._nuclearOption=e,this._nuclearRenderInfo&&(this.onOptionChange&&this.onOptionChange("_nuclearOption",e,t,""),this._nuclearObserver(),this._nuclearRenderInfo.data=this.option,this.refresh()))}}),this.option["@item"]=function(){return JSON.stringify(this)},this._nuclearReRender||(this._nuclearParentEmpty?this.parentNode=r.createElement("div"):this.parentNode="string"==typeof o?r.querySelector(o):o),this.install&&this.install(),this._nuclearRef=[];for(var i in this)this.hasOwnProperty(i)&&this[i]&&this[i]._nuclearLocalRefresh&&(this[i]._nuclearParent=this,this._nuclearRef.push(this[i]));this._nuclearTimer=null,this._preNuclearTime=new Date,this._nuclearObserver(),this._nuclearRenderInfo={tpl:this._nuclearTplGenerator(),data:this.option,parent:this.parentNode},this._nuclearRender(this._nuclearRenderInfo),this.installed&&this.installed()},t._nuclearObserver=function(){this.option&&this._nuclearTwoWay&&n.observe(this.option,function(e,t,n,r){(!this.onOptionChange||this.onOptionChange&&this.onOptionChange(e,t,n,r)!==!1)&&(clearTimeout(this._nuclearTimer),new Date-this._preNuclearTime>40?(this._nuclearLocalRefresh(),this._preNuclearTime=new Date):this._nuclearTimer=setTimeout(function(){this._nuclearLocalRefresh()}.bind(this),40))}.bind(this))},t.refresh=function(){this._nuclearLocalRefresh()},t.setNuclearContainer=function(e){this.parentNode="string"==typeof e?r.querySelector(e):e,this._nuclearRenderInfo.parent=this.parentNode,r.body===this.parentNode?this.parentNode.insertAdjacentHTML("beforeend",this.HTML):this.parentNode.innerHTML=this.HTML,this.node=this.parentNode.lastChild,this._mixNode()},t.render&&(t._nuclearTplGenerator=t.render),t.render=function(){return this._nuclearParentEmpty?this.HTML:this._nuclearTplGenerator()},t._nuclearSetStyleData=function(){for(var e=this.node.querySelectorAll("style"),t=0,o=e.length;t<o;t++){var i=e[t];i.setAttribute("data-nuclearId",this._ncInstanceId);var s=n.scoper(i.innerHTML,"#nuclear-scoper-"+this._ncInstanceId);i.innerHTML="",i.styleSheet?i.styleSheet.cssText=s:i.appendChild(r.createTextNode(s))}},t._nuclearRender=function(e){this.node?n.isUndefined(e.tpl)?(e.parent.removeChild(this.node),this.node=null,this.HTML=""):n.setDOM(this.node,this._nuclearWrap(n.render(n._fixEvent(n._fixTplIndex(e.tpl),this._ncInstanceId),e.data))):n.isUndefined(e.tpl)||(r.body===e.parent?e.parent.insertAdjacentHTML("beforeend",this._nuclearWrap(n.render(n._fixEvent(n._fixTplIndex(e.tpl),this._ncInstanceId),e.data))):e.parent.innerHTML=this._nuclearWrap(n.render(n._fixEvent(n._fixTplIndex(e.tpl),this._ncInstanceId),e.data)),this.node=e.parent.lastChild),this.node&&(this.node.setAttribute("data-nuclearId",this._ncInstanceId),this._mixNode(),this._nuclearSetStyleData(),this.HTML=this.node.outerHTML,this._nuclearFix(),this.onRefresh&&this.onRefresh(),this._nuclearServerRender||this._nuclearFixForm())},t._nuclearFixForm=function(){for(var e=this.node.querySelectorAll("input"),t=0,n=e.length;t<n;t++){var r=e[t],o=r.type.toLowerCase();""===r.getAttribute("value")&&(r.value=""),"checked"!==o&&"radio"!==o||(r.hasAttribute("checked")?r.checked="checked":r.checked=!1)}},t._mixNode=function(){var e=this.node.querySelectorAll("*[nc-id]"),t=e.length;if(t>0)for(var n=0;n<t;n++){var r=e[n];this[r.getAttribute("nc-id")]=r}var o=this.node.querySelectorAll("*[nc-class]"),i=o.length;if(i>0){for(var s=0;s<i;s++){var a=o[s],c=a.getAttribute("nc-class");this[c]=[]}for(s=0;s<i;s++){var a=o[s],c=a.getAttribute("nc-class");this[c].push(a)}}},t._nuclearFix=function(){this._nuclearParent||this._nuclearFixOne(this)},t._nuclearFixOne=function(e){var t=e._nuclearRef.length;if(t>0)for(var n=0;n<t;n++){var r=e._nuclearRef[n];r.node=e.node.querySelector('*[data-nuclearId="'+r._ncInstanceId+'"]'),r.node&&(r._mixNode(),r._nuclearRenderInfo.refreshPart=r.node.querySelectorAll("*[nc-refresh]"),r._nuclearRenderInfo.parent=r.node.parentNode,this._nuclearFixOne(r),r.onRefresh&&r.onRefresh(),this._nuclearServerRender||this._nuclearFixForm(),r.installed&&r.installed())}},t._nuclearWrap=function(e){var t="",n="";return this.style&&(t="\n<style data-nuclearId="+this._ncInstanceId+">\n"+this.style()+"\n</style>\n"),this._nuclearServerRender&&(n=this._nuclearViewOption(this._ncInstanceId,JSON.stringify(this.option))),'<div id="nuclear-scoper-'+this._ncInstanceId+'" '+(this._nuclearServerRender?'data-server="server"':"")+">"+t+e+n+"</div>"},t._nuclearViewOption=function(e,t){return'\n<input type="hidden" name="__nuclear_option_'+e+"\"  value='"+t+"'>\n"},t._nuclearLocalRefresh=function(){var e=this._nuclearRenderInfo;e.tpl=this._nuclearTplGenerator(),this._nuclearRender(e)}},n._fixEvent=function(e,t){return e.replace(/<[\s\S]*?>/g,function(e){return e.replace(/(onabort|onblur|oncancel|oncanplay|oncanplaythrough|onchange|onclick|onclose|oncontextmenu|oncuechange|ondblclick|ondrag|ondragend|ondragenter|ondragleave|ondragover|ondragstart|ondrop|ondurationchange|onemptied|onended|onerror|onfocus|oninput|oninvalid|onkeydown|onkeypress|onkeyup|onload|onloadeddata|onloadedmetadata|onloadstart|onmousedown|onmouseenter|onmouseleave|onmousemove|onmouseout|onmouseover|onmouseup|onmousewheel|onpause|onplay|onplaying|onprogress|onratechange|onreset|onresize|onscroll|onseeked|onseeking|onselect|onshow|onstalled|onsubmit|onsuspend|ontimeupdate|ontoggle|onvolumechange|onwaiting|onautocomplete|onautocompleteerror|onbeforecopy|onbeforecut|onbeforepaste|oncopy|oncut|onpaste|onsearch|onselectstart|onwheel|onwebkitfullscreenchange|onwebkitfullscreenerror|ontouchstart|ontouchmove|ontouchend|ontouchcancel|onpointerdown|onpointerup|onpointercancel|onpointermove|onpointerover|onpointerout|onpointerenter|onpointerleave)=('|")/g,function(e,n,r,o,i){return"Nuclear.instances["===i.substr(e.length+o,18)?e:e+="Nuclear.instances["+t+"]."})})},n._fixTplIndex=function(e){return e.replace(/{{@index}}/g,"{{_nuclearIndex}}")},n.isUndefined=function(e){return"undefined"==typeof e},n._serverInstanceId=1e6,n.getServerInstanceId=function(){return n._serverInstanceId>1e7&&!n.instances[1e6]&&(n._serverInstanceId=1e6),n._serverInstanceId++},n._instanceId=0,n.getInstanceId=function(){if(n._instanceId>n._serverInstanceId)throw"please set _serverInstanceId value to a larger value";return n._instanceId++},n.instances={},n.destroy=function(e){n.instances[e._ncInstanceId]=null},function(e,t){n.Tpl={},t(n.Tpl),n.render=n.Tpl.render}(this,function(e){function t(e){return"function"==typeof e}function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return f.call(e,t)}function o(e){return!r(v,e)}function i(e){return String(e).replace(/[&<>"'\/]/g,function(e){return y[e]})}function s(t,r){function i(){if(w&&!x)for(;y.length;)delete v[y.pop()];else y=[];w=!1,x=!1}function s(e){if("string"==typeof e&&(e=e.split(_,2)),!d(e)||2!==e.length)throw new Error("Invalid tags: "+e);u=new RegExp(n(e[0])+"\\s*"),h=new RegExp("\\s*"+n(e[1])),p=new RegExp("\\s*"+n("}"+e[1]))}if(!t)return[];var u,h,p,f=[],v=[],y=[],w=!1,x=!1;s(r||e.tags);for(var S,T,N,P,R,O,C=new l(t);!C.eos();){if(S=C.pos,N=C.scanUntil(u))for(var A=0,k=N.length;A<k;++A)P=N.charAt(A),o(P)?y.push(v.length):x=!0,v.push(["text",P,S,S+1]),S+=1,"\n"===P&&i();if(!C.scan(u))break;if(w=!0,T=C.scan(I)||"name",C.scan(g),"="===T?(N=C.scanUntil(m),C.scan(m),C.scanUntil(h)):"{"===T?(N=C.scanUntil(p),C.scan(b),C.scanUntil(h),T="&"):N=C.scanUntil(h),!C.scan(h))throw new Error("Unclosed tag at "+C.pos);if(R=[T,N,S,C.pos],v.push(R),"#"===T||"^"===T)f.push(R);else if("/"===T){if(O=f.pop(),!O)throw new Error('Unopened section "'+N+'" at '+S);if(O[1]!==N)throw new Error('Unclosed section "'+O[1]+'" at '+S)}else"name"===T||"{"===T||"&"===T?x=!0:"="===T&&s(N)}if(O=f.pop())throw new Error('Unclosed section "'+O[1]+'" at '+C.pos);return c(a(v))}function a(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)t=e[o],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function c(e){for(var t,n,r=[],o=r,i=[],s=0,a=e.length;s<a;++s)switch(t=e[s],t[0]){case"#":case"^":o.push(t),i.push(t),o=t[4]=[];break;case"/":n=i.pop(),n[5]=t[2],o=i.length>0?i[i.length-1][4]:r;break;default:o.push(t)}return r}function l(e){this.string=e,this.tail=e,this.pos=0}function u(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function h(){this.cache={}}var p=Object.prototype.toString,d=Array.isArray||function(e){return"[object Array]"===p.call(e)},f=RegExp.prototype.test,v=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},g=/\s*/,_=/\s+/,m=/\s*=/,b=/\s*\}/,I=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},l.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},u.prototype.push=function(e){return new u(e,this)},u.prototype.lookup=function(e){var n,r=this.cache;if(e in r)n=r[e];else{for(var o,i,s=this,a=!1;s;){if(e.indexOf(".")>0)for(n=s.view,o=e.split("."),i=0;null!=n&&i<o.length;)i===o.length-1&&null!=n&&(a="object"==typeof n&&n.hasOwnProperty(o[i])),n=n[o[i++]];else null!=s.view&&"object"==typeof s.view&&(n=s.view[e],a=s.view.hasOwnProperty(e));if(a)break;s=s.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=s(e,t)),r},h.prototype.render=function(e,t,n){var r=this.parse(e),o=t instanceof u?t:new u(t);return this.renderTokens(r,o,n,e)},h.prototype.renderTokens=function(e,t,n,r){for(var o,i,s,a="",c=0,l=e.length;c<l;++c)s=void 0,o=e[c],i=o[0],"#"===i?s=this.renderSection(o,t,n,r):"^"===i?s=this.renderInverted(o,t,n,r):">"===i?s=this.renderPartial(o,t,n,r):"&"===i?s=this.unescapedValue(o,t):"name"===i?s=this.escapedValue(o,t):"text"===i&&(s=this.rawValue(o)),void 0!==s&&(a+=s);return a},h.prototype.renderSection=function(e,n,r,o){function i(e){return s.render(e,n,r)}var s=this,a="",c=n.lookup(e[1]);if(c){if(d(c))for(var l=0,u=c.length;l<u;++l)a+=this.renderTokens(e[4],n.push(c[l]),r,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)a+=this.renderTokens(e[4],n.push(c),r,o);else if(t(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");c=c.call(n.view,o.slice(e[3],e[5]),i),null!=c&&(a+=c)}else a+=this.renderTokens(e[4],n,r,o);return a}},h.prototype.renderInverted=function(e,t,n,r){var o=t.lookup(e[1]);if(!o||d(o)&&0===o.length)return this.renderTokens(e[4],t,n,r)},h.prototype.renderPartial=function(e,n,r){if(r){var o=t(r)?r(e[1]):r[e[1]];return null!=o?this.renderTokens(this.parse(o),n,r,o):void 0}},h.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},h.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},h.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.0.0",e.tags=["{{","}}"];var w=new h;e.clearCache=function(){return w.clearCache()},e.parse=function(e,t){return w.parse(e,t)},e.render=function(e,t,n){return w.render(e,t,n)},e.to_html=function(n,r,o,i){var s=e.render(n,r,o);return t(i)?void i(s):s},e.escape=i,e.Scanner=l,e.Context=u,e.Writer=h}),function(){var e=function(t,n,r){var o=function(t,n,r){t.$observer||(t.$observer=this);var o=t.$observer,i=[];e.isArray(t)&&(0===t.length&&(t.$observeProps={},t.$observeProps.$observerPath="#"),o.mock(t));for(var s in t)t.hasOwnProperty(s)&&(r?e.isArray(n)&&e.isInArray(n,s)?(i.push(s),o.watch(t,s)):e.isString(n)&&s==n&&(i.push(s),o.watch(t,s)):(i.push(s),o.watch(t,s)));o.target=t,o.propertyChangedHandler||(o.propertyChangedHandler=[]);var a=r?r:n;o.propertyChangedHandler.push({all:!r,propChanged:a,eventPropArr:i})};return o.prototype={onPropertyChanged:function(t,n,r,o,i){if(n!==r&&this.propertyChangedHandler)for(var s=e._getRootName(t,i),a=0,c=this.propertyChangedHandler.length;a<c;a++){var l=this.propertyChangedHandler[a];(l.all||e.isInArray(l.eventPropArr,s)||0===s.indexOf("Array-"))&&l.propChanged.call(this.target,t,n,r,i)}0!==t.indexOf("Array-")&&"object"==typeof n&&this.watch(o,t,o.$observeProps.$observerPath)},mock:function(t){var n=this;t.forEach(function(e,t){e._nuclearIndex=t}),e.methods.forEach(function(r){t[r]=function(){var t=Array.prototype.slice.call(this,0),o=Array.prototype[r].apply(this,Array.prototype.slice.call(arguments));if(new RegExp("\\b"+r+"\\b").test(e.triggerStr)){this.forEach(function(e,t){e._nuclearIndex=t});for(var i in this)this.hasOwnProperty(i)&&!e.isFunction(this[i])&&n.watch(this,i,this.$observeProps.$observerPath);n.onPropertyChanged("Array-"+r,this,t,this,this.$observeProps.$observerPath)}return o},t["real"+r.substring(0,1).toUpperCase()+r.substring(1)]=function(){return Array.prototype[r].apply(this,Array.prototype.slice.call(arguments))}})},watch:function(t,n,r){if("$observeProps"!==n&&"$observer"!==n&&!e.isFunction(t[n])){t.$observeProps||(t.$observeProps={}),void 0!==r?t.$observeProps.$observerPath=r:t.$observeProps.$observerPath="#";var o=this,i=t.$observeProps[n]=t[n];if(Object.defineProperty(t,n,{get:function(){return this.$observeProps[n]},set:function(e){var r=this.$observeProps[n];this.$observeProps[n]=e,o.onPropertyChanged(n,e,r,this,t.$observeProps.$observerPath)}}),"object"==typeof i){e.isArray(i)&&(this.mock(i),0===i.length&&(i.$observeProps||(i.$observeProps={}),void 0!==r?i.$observeProps.$observerPath=r:i.$observeProps.$observerPath="#"));for(var s in i)i.hasOwnProperty(s)&&this.watch(i,s,t.$observeProps.$observerPath+"-"+n)}}}},new o(t,n,r)};e.methods=["concat","copyWithin","entries","every","fill","filter","find","findIndex","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","toLocaleString","toString","unshift","values","size"],e.triggerStr=["concat","copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift","size"].join(","),e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isString=function(e){return"string"==typeof e},e.isInArray=function(e,t){for(var n=e.length;--n>-1;)if(t===e[n])return!0;return!1},e.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)},e._getRootName=function(e,t){return"#"===t?e:t.split("-")[1]},e.add=function(e,t,n){e[t]=n;var r=e.$observer;r.watch(e,t)},Array.prototype.size=function(e){this.length=e},n.observe=e}(),n.Class=function(){},n.Class.extend=function(e){function t(){this.ctor.apply(this,arguments)}var r=Object.create(this.prototype);for(var o in e)r[o]=e[o];return t.prototype=r,t.prototype._super=Object.create(this.prototype),t.prototype.constructor=t,t.extend=n.Class.extend,t},function(){function e(){var e=r.createElement("style");e.appendChild(r.createTextNode("")),r.head.appendChild(e),e.sheet.insertRule("body { visibility: hidden; }",0),e.sheet.insertRule("template { display: none !important; }",0)}function t(e,t){var n=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return e=e.replace(n,function(e,n,r){return n.match(/^\s*(@media|@keyframes|to|from|@font-face)/)?n+r:(n.match(/:scope/)&&(n=n.replace(/([^\s]*):scope/,function(e,t){return""===t?"> *":"> "+t})),n=n.replace(/^(\s*)/,"$1"+t+" "),n+r)})}function o(){r.getElementsByTagName("body")[0].style.visibility="visible"}n.scoper=t,"scoped"in r.createElement("style")||(e(),"complete"===r.readyState||"loaded"===r.readyState?o():r.addEventListener("DOMContentLoaded",o))}(),t||e.Nuclear&&e.Nuclear.instances||(e.Nuclear=n),n});