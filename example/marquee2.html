<!DOCTYPE html>
<html>
<head>
    <title>Marquee</title>
</head>
<body>

    <div id="container"></div>
    <script src="../dist/nuclear.js"></script>
    <script type="text/javascript">
        var Marquee = Nuclear.create({
            installed: function () {
                this.scroll = this.node.querySelector(".marquee-scroll");
                this.end = -20 + parseInt(window.getComputedStyle(this.scroll)["width"]) * -1;
                this.loop = setInterval(function () {
                    this.option.left -= 5;
                    if (this.option.left < this.end) this.option.left = this.option.width;
                }.bind(this), 100);
            },
            update: function () {
                this.scroll.style.left = this.option.left + "px";
            },
            render: function () {
                return '<div style="width:{{width}}px;overflow:hidden;position:relative;"><div  style="visibility:hidden;">a核</div><div class="marquee-scroll" style="position:absolute; white-space:nowrap;left:{{left}}px;top:0;">{{content}}</div></div>';
            }
        })

        var Hello = Nuclear.create({
            install: function () {
                this.mq =new Marquee(this.option) 
            },
            update: function () {
                this.scroll.style.left = this.option.left + "px";
            },
            render: function () {
                return '<div><div>嵌套</div>'+this.mq.render()+'</div>';
            }
        })
    
        new Hello({ width: 480, left: 480, content: "张三中了 笔记本电脑  李四中了 苹果手机  王五中了 QQ靓号  孙六中了 马尔代夫双人游  " }, "#container");
    </script>
    <a href="https://github.com/AlloyTeam/Nuclear" target="_blank" style="position: absolute; right: 0; top: 0;">
        <img src="http://alloyteam.github.io/AlloyRenderingEngine/asset/img/github.png" alt="" />
    </a>

    

  
</body>
</html>